<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:tag="http://java.sun.com/jsf/composite/facetag">
    
    <ui:composition template="./template/template_root.xhtml">
    <ui:param name="ishomenocss" value="true"/>
	<ui:param name="ishomenojs" value="true"/>
	<ui:param name="ishomenodoinit" value="true"/>
	<ui:param name="url" value="index_content.htm"/>
        <ui:define name="root_body_content">
        	   <div class="" style="width:100%; height:650px;" >
        	   
        	   
        	   <h3>----------------------------------------------------show data------------------------------------------------------------------------</h3>
        	 	  <h:form prependId="false"> 
        	 	  <!--query condition -->
        	 	  <h:inputText id="p" value="#{bean['caffTestDataBean'].params.flag}" />
        	 	 	 <table style="table-layout: auto;">
        	 	   	  <tr><td></td><td><h:inputHidden id="updataid" value="#{bean['caffTestDataBean'].cafftestdata._caffTestDataId}" /></td></tr>
		        	   <tr><td>name:</td><td><h:inputText id="updataname" value="#{bean['caffTestDataBean'].cafftestdata._caffTestDataUsername}" /></td></tr>
		        	   <tr><td>age:</td><td><h:inputText id="updataage" value="#{bean['caffTestDataBean'].cafftestdata._caffTestDataAge}" /></td></tr>
		        	   <tr><td>adress:</td><td><h:inputText id="updataadress" value="#{bean['caffTestDataBean'].cafftestdata._caffTestDataAdress}" /></td></tr>
		        	   <tr>
		        	   <td><h:commandButton  value="updata" action="#{bean['caffTestDataBean'].getUdata}"  /></td>
		        	   <td><h:commandButton  value="select"  onclick="return rendpaga('1');" action="#{bean['caffTestDataBean'].getCafftestdatass}"/></td>
		        	   </tr>
		        	   <tr><td><h:commandButton  value="save" action="#{bean['caffTestDataBean'].save}"/></td><td></td></tr>
        	  	  </table>
        	  	  <!-- query condition end -->
				   		<!--查询列表  -->
				   		<h:inputHidden id="tid" value="#{bean['caffTestDataBean'].params.caffTestDataId}"/>
			        	   <table   style="height:220px;width:800px; table-layout: auto;">
			        	  	   <tbody>
			        	  	   			<tr><td>UPDATA</td><td>ID</td><td>NAME</td><td>AGE</td><td>ADRESS</td><td>DELETE</td></tr>
				        		   <c:forEach var="item" items="#{bean['caffTestDataBean'].cafftestdatass.items}" varStatus="status">
				        		   
				        		  		 <tr>
				        		  		 <td style="border: 1px solid #ccc;"> 
						        		 <input  class="Button4" type="button" value="修改" style="width:100%;height:100%; display:block; background-color: #F6AD23;border: 0px; font-size:14px; color:#fff;"  />
						        		 </td>
				        		  		 <td style="border: 1px solid #ccc;"><span class="f_18 f_b" >#{item._caffTestDataId}</span></td>
				        		  		 <td style="border: 1px solid #ccc;"><span class="f_18 f_b" >#{item._caffTestDataUsername}</span></td>
				        		  		 <td style="border: 1px solid #ccc;"><span class="f_18 f_b" >#{item._caffTestDataAge}</span></td>
				        		  		 <td style="border: 1px solid #ccc;"><span class="f_18 f_b" >#{item._caffTestDataAdress}</span></td>
				        		  		 <td style="border: 1px solid #ccc;"> 
				        		  		 <h:commandButton class="deletebyid" style="width:100%;height:100%; display:block; background-color: #F6AD23;border: 0px; font-size:14px; color:#fff;" value="Delete"  
				        		  		 		action="#{bean['caffTestDataBean'].getDelete}" onclick="return setvalue(#{item._caffTestDataId});"> 
				        		  		 </h:commandButton> 
				        		  		  </td>
				        		  		 </tr>
				        		   </c:forEach>
				        		</tbody>  
			        	   </table>
			        	   <!-- 分页条 -->
			        	   <div class="mt_10">
		                         <ui:include src="block/block_nav.xhtml"> 
		                            <ui:param name="navId" value="navId"/>
		                            <ui:param name="page" value="#{bean['caffTestDataBean'].cafftestdatass}"/>
		                        </ui:include>      
		                   </div>
		                    <!-- 分页条end -->
			        	   <!-- 查询列表end  -->
			       </h:form>
        	   </div>
        	   <script>
        	   function setvalue(param){
        		    alert(param);
					$('#tid').val(param);
            	   }
        	   function rendpaga(param){
            	   alert(1);
        		   $('#p').val(param);
            	   }
        		$('.Button4').on('click',function(){
      				var id=$(this).parents('tr').children('td:eq(1)').text();
      				var name=$(this).parents('tr').children('td:eq(2)').text();
      				var age=$(this).parents('tr').children('td:eq(3)').text();
      				var adress=$(this).parents('tr').children('td:eq(4)').text();
      				$('#updataid').val(id);
      				$('#updataname').val(name);
      				$('#updataage').val(age);
      				$('#updataadress').val(adress);
      			});
        	   </script>
        	   
        </ui:define>
    </ui:composition>
</html>